function imgpreload(b,a){if(a instanceof Function)a={all:a};if(typeof b=="string")b=[b];for(var c=[],e=b.length,d=0;d<e;d++){var f=new Image;f.onload=function(){c.push(this);a.each instanceof Function&&a.each.call(this);c.length>=e&&a.all instanceof Function&&a.all.call(c)};f.src=b[d]}}
typeof jQuery!="undefined"&&function(b){b.imgpreload=imgpreload;b.fn.imgpreload=function(a){a=b.extend({},b.fn.imgpreload.defaults,a instanceof Function?{all:a}:a);this.each(function(){var d=this;imgpreload(b(this).attr("src"),function(){a.each instanceof Function&&a.each.call(d)})});var c=[];this.each(function(){c.push(b(this).attr("src"))});var e=this;imgpreload(c,function(){a.all instanceof Function&&a.all.call(e)});return this};b.fn.imgpreload.defaults={each:null,all:null}}(jQuery);