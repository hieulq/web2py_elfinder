(function(b){function k(e,a,c){var d=g[e];h=b("#"+d.id).find("ul:first").clone(!0);h.css(d.menuStyle).find("li").css(d.itemStyle).hover(function(){b(this).css(d.itemHoverStyle)},function(){b(this).css(d.itemStyle)}).find("img").css({verticalAlign:"middle",paddingRight:"2px"});f.html(h);d.onShowMenu&&(f=d.onShowMenu(c,f));b.each(d.bindings,function(d,c){b("#"+d,f).bind("click",function(){j();c(a,l)})});f.css({left:c[d.eventPosX],top:c[d.eventPosY]}).show();d.shadow&&i.css({width:f.width(),height:f.height(),
left:c.pageX+2,top:c.pageY+2}).show();b(document).one("click",j)}function j(){f.hide();i.hide()}var f,i,h,g,l,e={menuStyle:{listStyle:"none",padding:"1px",margin:"0px",backgroundColor:"#fff",border:"1px solid #999",width:"100px"},itemStyle:{margin:"0px",color:"#000",display:"block",cursor:"default",padding:"3px",border:"1px solid #fff",backgroundColor:"transparent"},itemHoverStyle:{border:"1px solid #0a246a",backgroundColor:"#b6bdd2"},eventPosX:"pageX",eventPosY:"pageY",shadow:!0,onContextMenu:null,
onShowMenu:null};b.fn.contextMenu=function(h,a){f||(f=b('<div id="jqContextMenu"></div>').hide().css({position:"absolute",zIndex:"500"}).appendTo("body").bind("click",function(a){a.stopPropagation()}));i||(i=b("<div></div>").css({backgroundColor:"#000",position:"absolute",opacity:0.2,zIndex:499}).appendTo("body").hide());g=g||[];g.push({id:h,menuStyle:b.extend({},e.menuStyle,a.menuStyle||{}),itemStyle:b.extend({},e.itemStyle,a.itemStyle||{}),itemHoverStyle:b.extend({},e.itemHoverStyle,a.itemHoverStyle||
{}),bindings:a.bindings||{},shadow:a.shadow||!1===a.shadow?a.shadow:e.shadow,onContextMenu:a.onContextMenu||e.onContextMenu,onShowMenu:a.onShowMenu||e.onShowMenu,eventPosX:a.eventPosX||e.eventPosX,eventPosY:a.eventPosY||e.eventPosY});var c=g.length-1;b(this).bind("contextmenu",function(b){(g[c].onContextMenu?g[c].onContextMenu(b):1)&&k(c,this,b,a);return!1});return this};b.contextMenu={defaults:function(f){b.each(f,function(a,c){"object"==typeof c&&e[a]?b.extend(e[a],c):e[a]=c})}}})(jQuery);$(function(){$("div.contextMenu").hide()});
